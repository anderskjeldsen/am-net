id: http-server-json
version: 1.0.0
type: application
dependencies:
  - id: am-lang-core
    type: local
    path: ../../../am-lang-core
  - id: am-net
    type: local
    path: ../..
  - id: am-json
    type: local
    path: ../../../am-json
platforms:
  - id: libc
    abstract: true
  - id: linux-x64
    extends: libc
    gccCommand: gcc -O3
    additionalHeaders:
    additionalAsmSources:
    additionalCSources: 
    additionalIncludePaths:
    gccAdditionalOptions:
    gccAdditionalLibraries:

buildTargets:
  - id: linux-x64
    platform: linux-x64

platforms:
  - id: libc
    abstract: true
  - id: amigaos
    extends: libc
    gccCommand: m68k-amigaos-gcc -O3
    asmCommand: vasmm68k_mot
    additionalHeaders:
    additionalAsmSources:
    additionalCSources: 
    additionalIncludePaths:
    gccAdditionalOptions:
      - -noixemul     
    gccAdditionalLibraries:
      - socket
  - id: macos
    extends: libc
    gccCommand: gcc -O3
    additionalHeaders:
    additionalAsmSources:
    additionalCSources: 
    additionalIncludePaths:
    gccAdditionalOptions:
    gccAdditionalLibraries:
  - id: linux-x64
    extends: libc
    gccCommand: gcc -O3
    additionalHeaders:
    additionalAsmSources:
    additionalCSources: 
    additionalIncludePaths:
    gccAdditionalOptions:
    gccAdditionalLibraries:

buildTargets:
  - id: amigaos_docker
    platform: amigaos
    dockerBuild:
      image: amiga-gcc
      buildPath: /host
  - id: macos
    platform: macos
  - id: linux-x64
    platform: linux-x64